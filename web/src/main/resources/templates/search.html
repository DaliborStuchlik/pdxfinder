<html xmlns:th="http://www.thymeleaf.org">

    <head>
        <link th:remove="all" rel="stylesheet" media="screen" href="//cdn.jsdelivr.net/bootswatch/3.3.7/flatly/bootstrap.min.css"/>
        <link rel="stylesheet" href="/css/chosen.css"/>
        <title>PDX Finder</title>
        <!--/*/ <th:block th:include="fragments/head-includes :: bootstrap"></th:block> /*/-->
        <!--/*/ <th:block th:include="fragments/head-includes :: datatables"></th:block> /*/-->
        <!--/*/ <th:block th:include="fragments/head-includes :: chart"></th:block> /*/-->
        <!--/*/ <th:block th:include="fragments/head-includes :: general"></th:block> /*/-->
        <script src="/js/pdxFinder.autocomplete.js"></script>
    </head>

    <body>


            <div class="container">
                <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
            </div>


            <div class="page-header text-center shiftUp80">
                <h2>PDX Finder search</h2>
            </div>

            <!-- Page Content -->
            <div class="container">

                        <p>
                            To facilitate PDX models discovery, EMBL-EBI and the Jackson Laboratory are co-developing PDX Finder. PDX Finder
                            is an open repository for the upload and storage of clinical, genomic and functional PDX data which will provide
                            a comprehensive global catalogue of PDX models available for researchers and their associated data across
                            distributed repository databases.
                        </p>

                        <div class="row">


                            <div class="col-md-12 topSpace5">
                                <h4>Diagnosis</h4>

                                    <input id="pdxFinder"  class="materialF topSpace5" placeholder="Enter Diagnosis ..." type="text"/>

                            </div>


                            <!--<div class="col-md-6">
                                <h4>Tested Marker(s)</h4>
                                <select  id="markerSelect"  class="chosen" multiple="true" placeholder="Select marker(s)..."></select>
                            </div>-->
                        </div><br/>

                        <div class="row">
                            <div class="col-md-6">
                                <h4>Source</h4>
                                <select id="sourceSelect" class="chosen" multiple="true" placeholder="Select source(s)...">
                                    <option>HCI(PDXNet)</option>
                                    <option>IRCC</option>
                                    <option>JAX</option>
                                    <option>MDAnderson(PDXNet)</option>
                                    <option>WISTAR(PDXNet)</option>
                                </select>
                            </div>

                            <div class="col-md-6">
                                <h4>Tumor type</h4>
                                <select id="tumorTypeSelect" class="chosen" multiple="true" placeholder="Select tumor type(s)...">
                                    <option>Metastatic</option>
                                    <option>Primary Malignancy</option>
                                    <option>Recurrent/Relapse</option>
                                </select>

                            </div>
                        </div>
                        <br/>
                        <div class="row">
                            <div class="col-md-6"></div>
                            <div class="col-md-6">
                            <button id="searchButton" class="w3-button w3-blue-grey pull-right"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> &nbsp; Search </button>

                            </div>
                        </div>


                        <br/>

                        <div class="row topSpace5">
                            <div id="resultsDiv">

                                <!-- Second Graph Row, will get replaced by first query -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <div id="cancer-tissue-chart" style="height: 550px;"></div>
                                    </div>
                                </div>
                                <!-- /.row -->

                                <!-- Graph Row, will get replaced by first query -->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div id="cancer-system-chart"></div>
                                    </div>
                                    <!-- /.col-md-4 -->
                                    <div class="col-md-6">
                                        <div id="cancer-histology-chart"></div>
                                    </div>
                                </div>
                                <!-- /.row -->


                            </div>
                        </div>


            </div>
            <!-- /.container -->





            <script type="text/javascript" th:inline="javascript">

                cancerBySystemChart([[ ${cancerBySystem} ]],"cancer-system-chart");
                cancerByHistologyChart("","cancer-histology-chart");
                cancerByTissueChart("","cancer-tissue-chart");

            </script>

            <!-- Auto Suggest JavaScript Code -->

            <script type="text/javascript" th:inline="javascript">

                    var states = [[ ${mappedDOTerm} ]];

                    $('#pdxFinder').autocomplete({
                    source:[states]
                    });

            </script>









            <!-- Auto Search Field JavaScript Code Start -->
            <script type="text/javascript">
                jQuery(document).ready(function()
                {

                    init();
                    jQuery("#pdxFinder").bind("enterWasHit",function(e)
                    {
                        search();
                    });
                    jQuery("#pdxFinder").keyup(function(e)
                    {
                        if(e.keyCode == 13)
                        {
                            jQuery(this).trigger("enterWasHit");
                        }
                    });

                    jQuery("#searchButton").on("click", function ()
                    {
                        search();
                    });

                });
            </script>
            <!-- Auto Search Field JavaScript Code End -->


    </body>
</html>