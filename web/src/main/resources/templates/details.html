<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link th:remove="all" rel="stylesheet" media="screen"
          href="//cdn.jsdelivr.net/bootswatch/3.3.7/flatly/bootstrap.min.css"/>
    <script src="/js/jquery-3.2.1.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script src="/js/pdxFinder.js"></script>
    <title>PDX Finder</title>
    <!--/*/ <th:block th:include="fragments/head-includes :: head-includes"></th:block> /*/-->
</head>
<body>


<div class="container">
    <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
</div>

<div class="page-header text-center shiftUp80">
    <h3>PDX Model - <span th:text="${externalId}"></span></h3>
</div>

<!-- Page Content -->
<div class="container">
    <div class="row">
        <!-- Fullpath: /mi/pdx/pdx/34/ -->

        <style>
            dl { padding-bottom:5px;}
        </style>

        <div class="panel panel-primary">
            <!-- Default panel contents -->
            <div class="panel-heading"><h5> Model : <span th:text="${externalId}"></span> </h5></div>
            <div class="panel-body">

                <div class="row">

                    <div class="col-md-6">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h3 class="panel-title">Clinical / Patient</h3>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-condensed table-hover" style="margin-bottom: 2px;">
                                    <tr><th>Patient ID</th> <td th:text="${fullData.age}"></td></tr>
                                    <tr><th>Gender</th>     <td th:text="${gender}"></td></tr>
                                    <tr><th>Age</th>        <td th:text="${age}"></td></tr>
                                    <tr><th>Race</th>       <td th:text="${race}"></td></tr>
                                    <tr><th>Ethnicity</th>  <td th:text="${ethnicity}"></td></tr>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 noPaddingLeft">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h3 class="panel-title">PDX model creation</h3>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-condensed table-hover" style="margin-bottom: 2px;">
                                    <tr><th>Sample type</th>            <td th:text="${sampleType}"></td></tr>
                                    <tr><th>Strain</th>                 <td th:text="${strain}"></td></tr>
                                    <tr><th>Mouse sex</th>              <td th:text="${mouseSex}"></td></tr>
                                    <tr><th>Engraftment site</th>       <td th:text="${engraftmentSite}"></td></tr>
                                    <tr><th>&nbsp;</th>                 <td>&nbsp;</td></tr>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h3 class="panel-title">Clinical / Tumor</h3>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-condensed table-hover" style="margin-bottom: 2px;">
                                    <tr><th>Diagnosis</th>          <td th:text="${diagnosis}"></td></tr>
                                    <tr><th>Tumor type</th>         <td th:text="${tumorType}"></td></tr>
                                    <tr><th>Classification</th>     <td th:text="${classification}"></td></tr>
                                    <tr><th>Markers</th>            <td><span th:each="marker, iterStat : ${markers}" th:text="!${iterStat.last} ? ${marker} + ', ': ${marker}"></span></td></tr>
                                </table>
                            </div>
                        </div>
                    </div>



                    <div class="col-md-12">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h3 class="panel-title">PDX model studies - <span th:text="${totalRecords}"></span> entries</h3>
                            </div>
                            <div class="panel-body">
                                <div class="table-responsive">
                                    <table class="table table-condensed table-striped table-borderedPdx table-hover" >

                                        <thead>
                                        <tr>
                                            <th>Sample</th>
                                            <th>Platform(s)</th>
                                            <th>Chromosome</th>
                                            <th>Seq. Position</th>
                                            <th>Ref. Allele</th>
                                            <th>Alt. Allele</th>
                                            <th>Consequence</th>
                                            <th>Gene</th>
                                            <th>Amino Acid Change</th>
                                            <th>Read Depth</th>
                                            <th>Allele Freq.</th>
                                            <th>Disease</th>
                                            <th>RS Variants</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:if="${#lists.isEmpty(variationData)}">
                                            <td></td>
                                        </tr>
                                        <th:block th:each="variationDataSet :${variationData}">

                                            <tr th:each="vData :${variationDataSet}">
                                                <td th:text="${specimenId}"> ... </td>
                                                <td th:text="${technology}"> ... </td>
                                                <td th:text="${vData.chromosome}"> ... </td>
                                                <td th:text="${vData.seqPosition}"> ... </td>
                                                <td th:text="${vData.refAllele}"> ... </td>
                                                <td th:text="${vData.altAllele}"> ... </td>
                                                <td th:text="${vData.consequence}"> ... </td>
                                                <td th:text="${vData.marker.symbol}"> ... </td>
                                                <td th:text="${vData.aminoAcidChange}"> ... </td>
                                                <td th:text="${vData.readDepth}"> ... </td>
                                                <td th:text="${vData.alleleFrequency}"> ... </td>
                                                <td th:text="${diagnosis}"> ... </td>
                                                <td th:text="${vData.rsVariants}"> ... </td>
                                            </tr>

                                        </th:block>
                                        </tbody>
                                    </table>
                                </div>



                                <div style="text-align: center;">
                                    <div th:if="${not #lists.isEmpty(variationData)}">

                                        <ul class="pagination pagination-pdxFinder">
                                            <th:block th:unless="${totalPages<1}" th:each="num: ${#numbers.sequence(1,totalPages)}">

                                                <li th:if="${num==1 && presentPage!=1}">
                                                    <a th:href="@{'?page='+${presentPage-1}}"> << Previous </a>
                                                </li>


                                                <th:block th:if="${presentPage<5 && num<=5}">
                                                    <li th:class="( ${num} == ${presentPage} ) ? 'active' : '' ">
                                                        <a th:href="@{'?page='+${num}}" th:text="${num}"> Page Number </a>
                                                    </li>
                                                </th:block>


                                                <th:block th:if="${presentPage>=5 && num==1}">
                                                    <li>
                                                        <a th:href="@{'?page='+${num}}" th:text="${num}"> Page Number </a>
                                                    </li>
                                                    <li>
                                                        <a disabled> . . . </a>
                                                    </li>
                                                    <li>
                                                        <a th:href="@{'?page='+${presentPage-1}}" th:text="${presentPage-1}"> Page Number </a>
                                                    </li>
                                                    <li class="active">
                                                        <a  th:href="@{'?page='+${presentPage}}" th:text="${presentPage}"> Page Number </a>
                                                    </li>
                                                    <li th:if="${presentPage<totalPages}">
                                                        <a th:href="@{'?page='+${presentPage+1}}" th:text="${presentPage+1}"> Page Number </a>
                                                    </li>
                                                </th:block>


                                                <th:block th:if="${presentPage<totalPages-1 && num==totalPages && totalPages > 4 }">
                                                    <li  th:if="${presentPage<totalPages-2}" th:class="active">
                                                        <a disabled> . . . </a>
                                                    </li>
                                                    <li th:class="( ${num} == ${presentPage} ) ? 'active' : '' ">
                                                        <a th:href="@{'?page='+${num}}" th:text="${num}"> Last Page </a>
                                                    </li>
                                                    <li>
                                                        <a th:href="@{'?page='+${presentPage+1}}"> Next >> </a>
                                                    </li>
                                                </th:block>


                                            </th:block>
                                        </ul>

                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>

                </div>





                <br/>
                <a class="btn btn-lg btn-success" th:href="${url}" th:text="${urlText}">
                    For more information please visit <i class="fa fa-external-link"></i></a>

            </div>
        </div>





    </div>



</div>
<!-- /.container -->

</body>
</html>
